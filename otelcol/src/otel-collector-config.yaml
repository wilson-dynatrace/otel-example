receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

exporters:
  otlp/jaeger:
    endpoint: "jaeger:4317"
    tls:
      insecure: true
  prometheus:
    endpoint: "0.0.0.0:9464"
  # otlp/http exporter to Dynatrace.  
#  otlphttp/dynatrace:  
#    endpoint: "${DT_ENDPOINT}"  
#    headers:  
#      Authorization: "Api-Token ${DT_API_TOKEN}" 
#  environment:
#    - DT_ENDPOINT 
#    - DT_API_TOKEN
      
service:
  pipelines:
    traces:
      receivers: [otlp]
      exporters: [otlp/jaeger]
    metrics:
      receivers: [otlp]
      exporters: [prometheus]
#    traces/dynatrace:  
#      receivers: [otlp]  
#      processors: [batch]  
#      exporters: [otlphttp/dynatrace]  
#    metrics/dynatrace:  
#      receivers: [otlp, spanmetrics]  
#      processors: [batch, cumulativetodelta]  
#      exporters: [otlphttp/dynatrace]  
#    logs/dynatrace:  
#      receivers: [otlp]  
#      processors: [batch]  
#      exporters: [otlphttp/dynatrace]
  telemetry:
    logs:
      level: info
